!function(a,b){"use strict";"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b});var c="cfy",d="."+c,e={init:function(b){var c=this;c.stopPlugin=!1,c.options=a.extend({},a.confy.options,b),c.initEvents(),c._populate()},_populate:function(){var b,c,d=this;d.options.items.each(function(e,f){switch(f=a(f),b={type:f.data("type"),value:f.data("value"),option:f.data("option")},b.type){case"radio":c=d._getValueFromString(b.option),b.value===c&&f.addClass("cfy-active");break;case"textfield":c=d._getValueFromString(b.option),f.val(c),f.data("value",c);break;case"checkbox":c=d._getValueFromString(b.option),c?(f.addClass("cfy-on"),f.data("value","true")):(f.removeClass("cfy-on"),f.data("value","false"));break;case"selectbox":c=d._getValueFromString(b.option),f.data("value",c),f.find('option[data-value="'+c+'"]').prop({selected:!0})}}),d.options.dependencies.call(d,d.options.settings)},_getValueFromString:function(a){var b,c=this,d=a.split("."),e=c.options.settings[d[0]];for(b=1;b<d.length;b++)e=e[d[b]];return e},_setValueFromString:function(a,b){var c,d,e=this,f=a.split("."),g=f.length;if(1===g)e.options.settings[f[0]]=b;else{for(d=e.options.settings[f[0]],c=1;g-1>c;c++)d=d[f[c]];d[f[g-1]]=b}},_change:function(a){var b=this,c={type:a.data("type"),value:a.data("value"),option:a.data("option")};if(!a.hasClass("cfy-active")){switch(b.options.loadingStart.call(b),b._reset(),c.type){case"radio":b._setValueFromString(c.option,c.value);break;case"textfield":c.value=parseInt(c.value,10),c.value=c.value%1===0?c.value:0,a.data("value",c.value),b._setValueFromString(c.option,c.value);break;case"checkbox":c.value="true"==c.value?!1:!0,b._setValueFromString(c.option,c.value);break;case"selectbox":b._setValueFromString(c.option,c.value)}setTimeout(function(){b.options.callback.call(b,b.options.settings),b._populate(),b.options.loadingEnd.call(b,b.options.settings)},200)}},_reset:function(){var b,c=this;c.options.items.each(function(d,e){e=a(e);var f={type:e.data("type"),value:e.data("value"),option:e.data("option")};switch(f.type){case"radio":b=c._getValueFromString(f.option),f.value===b&&e.removeClass("cfy-active");break;case"textfield":e.data("value","");break;case"checkbox":b=c._getValueFromString(f.option),b&&(e.removeClass("cfy-on"),e.data("value",""));break;case"selectbox":e.data("value","")}})},showConfy:function(a,b){a.removeClass("cfy-toggle-close"),this.options.wrap.css({left:0}),this.options.show.call(this),b&&(localStorage.confyPlugin=JSON.stringify({closedByUser:"false"}))},hideConfy:function(a,b){a.addClass("cfy-toggle-close"),this.options.wrap.css({left:-311}),this.options.hide.call(this),b&&(localStorage.confyPlugin=JSON.stringify({closedByUser:"true"}))},toggleConfy:function(a,b){a.hasClass("cfy-toggle-close")?this.showConfy(a,b):this.hideConfy(a,b)},initEvents:function(){var c=this;c.options.items.filter('[data-type="radio"], [data-type="checkbox"]').on("click"+d,function(b){c.stopPlugin||(c._change(a(this)),b.preventDefault())}),c.options.items.filter('[data-type="textfield"]').on("keypress"+d,function(b){if(!c.stopPlugin){var d=a(this),e=b.keyCode?b.keyCode:b.which;13===e&&(d.data("value",d.val()),c._change(d))}}),c.options.items.filter('[data-type="selectbox"]').on("change"+d,function(){if(!c.stopPlugin){var b=a(this),d=b.find("option:selected").data("value");b.data("value",d),c._change(b)}}),a(".cfy-toggle").on("click",function(){c.toggleConfy(a(this),!0)}),a(b).on("resize",function(){c.resize()}),a(".cfy-item-add").on("click",function(){var b=a(this).prev(),c=b.find("option:selected").next(),d=c.length?c.val():b.find("option").first().val();b.val(d).prop("selected",!0).change()}),a(".cfy-item-sub").on("click",function(){var b=a(this).next(),c=b.find("option:selected").prev(),d=c.length?c.val():b.find("option").last().val();b.val(d).prop("selected",!0).change()}),c.options.startOpen&&c.showConfy(a(".cfy-toggle")),c.resize()},resize:function(){var c,d=this,e=a(b).width();localStorage.confyPlugin?(c=JSON.parse(localStorage.confyPlugin),"false"===c.closedByUser?d.showConfy(a(".cfy-toggle")):d.hideConfy(a(".cfy-toggle"))):1024>e&&setTimeout(function(){d.hideConfy(a(".cfy-toggle"))},1e3)}};a.confy=Object.create(e),a.confy.options={wrap:a(".cfy-wrap"),items:a(".cfy-item"),startOpen:!0,callback:function(){},loadingStart:function(){a(".cfy-wrap").addClass("cfy-wrap-loading")},loadingEnd:function(){a(".cfy-wrap").removeClass("cfy-wrap-loading")},dependencies:function(){},hide:function(){},show:function(){},settings:null}}(jQuery,window,document),function(a,b,c){"use strict";"function"!=typeof Object.create&&(Object.create=function(a){function b(){}return b.prototype=a,new b});var d="helpMode",e="hm",f="."+e,g={_main:function(b,c){var e=this;e.isActive=!1,e.registeredEvents=[],e.options=a.extend({},a.fn[d].options,c),e.obj=b,e.$obj=a(b),e._browserInfo(),e._createMarkup(),e._events(),e.options.showDefault&&e.show.call(e.obj)},_browserInfo:function(){var a=this,b=navigator.appVersion;a.browser=-1!==b.indexOf("MSIE 8.")?"ie8":-1!==b.indexOf("MSIE 9.")?"ie9":-1!==b.indexOf("MSIE 10.")?"ie10":/android/gi.test(b)?"android":/iphone|ipad|ipod/gi.test(b)?"ios":"",a.browser&&a.$obj.addClass(e+a.browser)},_createMarkup:function(){var b=this;b.wrap=a("<div/>",{"class":"hm-wrap"}),b.dataOptions={header:b.$obj.data("hm-header"),body:b.$obj.data("hm-body"),addClass:b.$obj.data("hm-addclass")||"",animation:b.$obj.data("hm-animation")||"fade",direction:b.$obj.data("hm-direction")||"br",parentAlign:b.$obj.data("hm-align").split("-")[0]||"bc",childAlign:b.$obj.data("hm-align").split("-")[1]||"tc"},b.wrap.addClass("hm-animation-"+b.dataOptions.animation).addClass("hm-direction-"+b.dataOptions.direction).addClass(b.dataOptions.addClass),b.container=a("<div/>",{"class":"hm-container"}).appendTo(b.wrap),b.panel=a("<div/>",{"class":"hm-panel"}).appendTo(b.container),b.dataOptions.header&&a("<div/>",{"class":"hm-header",html:b.dataOptions.header}).appendTo(b.panel),b.dataOptions.body&&a("<div/>",{"class":"hm-body",html:b.dataOptions.body}).appendTo(b.panel)},_layout:function(){var a=this;a.positionObj=a._getPosition(a.$obj.offset(),a.$obj.outerWidth(),a.$obj.outerHeight(),a.dataOptions.parentAlign),a.positionWrap=a._getPosition({top:0,left:0},-a.wrap.outerWidth(!0),-a.wrap.outerHeight(!0),a.dataOptions.childAlign),a.wrap.css({top:a.positionObj.top+a.positionWrap.top,left:a.positionObj.left+a.positionWrap.left}),a.containerStyle={width:a.container.outerWidth(),height:a.container.outerHeight(),top:a.container[0].offsetTop,left:a.container[0].offsetLeft},a.panelStyle={width:a.panel.outerWidth(),height:a.panel.outerHeight()},a.container.css(a.containerStyle)},_events:function(){var c,d=this;a(b).on("resize"+f,function(){d.isActive&&(c&&clearTimeout(c),c=setTimeout(function(){d._layout()},50))}),d.container.on("mouseenter"+f,function(a){var b=d.panelStyle.width,c=d.panelStyle.height,e=d.containerStyle.top,f=d.containerStyle.left;if(d.options.followCursor&&(d.wrap.removeClass("hm-direction-"+d.dataOptions.direction),d.dataOptions.direction=a.pageY-d.container.offset().top<=d.containerStyle.height/2?"b":"t",d.dataOptions.direction+=a.pageX-d.container.offset().left<=d.containerStyle.width/2?"r":"l",d.wrap.addClass("hm-direction-"+d.dataOptions.direction)),"expand"===d.dataOptions.animation){switch(d.dataOptions.direction){case"bl":f=f-b+d.containerStyle.width;break;case"tr":e=e-c+d.containerStyle.height;break;case"tl":e=e-c+d.containerStyle.height,f=f-b+d.containerStyle.width}d.container.css({width:b,height:c,top:e,left:f})}d.wrap.addClass("hm-active")}).on("mouseleave"+f,function(){d.container.css(d.containerStyle),d.wrap.removeClass("hm-active")})},_getPosition:function(a,b,c,d){var e={};return a.left=parseInt(a.left,10),a.top=parseInt(a.top,10),e={left:a.left,top:a.top,right:a.left+b,bottom:a.top+c,centerLeft:parseInt((2*a.left+b)/2,10),centerTop:parseInt((2*a.top+c)/2,10)},this["_getPosition"+d.toUpperCase()](e)},_getPositionTC:function(a){return{top:a.top,left:a.centerLeft}},_getPositionTR:function(a){return{top:a.top,left:a.right}},_getPositionRC:function(a){return{top:a.centerTop,left:a.right}},_getPositionRB:function(a){return{top:a.bottom,left:a.right}},_getPositionBC:function(a){return{top:a.bottom,left:a.centerLeft}},_getPositionBL:function(a){return{top:a.bottom,left:a.left}},_getPositionLC:function(a){return{top:a.centerTop,left:a.left}},_getPositionLT:function(a){return{top:a.top,left:a.left}},_getPositionCC:function(a){return{top:a.centerTop,left:a.centerLeft}},_showPlugin:function(){var a=this;a.wrap.appendTo(c.body),a._layout(),a.isActive=!0},_hidePlugin:function(){var a=this;a.wrap.detach(),a.isActive=!1},_registerEvent:function(a,b,c){var d=this;d.registeredEvents[a]||(d.registeredEvents[a]=[],d.registeredEvents.push(a)),d.registeredEvents[a].push({func:b,oneTime:c||!1})},_triggerEvent:function(a){var b=this;if(b.registeredEvents[a])for(var c=b.registeredEvents[a].length-1;c>=0;c--)b.registeredEvents[a][c].func.call(b),b.registeredEvents[a][c].oneTime&&b.registeredEvents[a].splice(c,1)},init:function(b){var c=a.data(this,e);if(c)throw new Error(d+" is already initialized. Please destroy it before initialize again!");c=a.data(this,e,Object.create(g)),c._main(this,b)},destroy:function(){var c=a.data(this,e);if(!c)throw new Error(d+" is not initialized. Please initialize before calling destroy method!");c.wrap.remove(),a.removeData(this,e),a(b).off("resize"+f)},show:function(){var b=a.data(this,e);if(!b)throw new Error(d+" is not initialized. Please initialize before calling show method!");0===b.options.delayShow?b._showPlugin():setTimeout(function(){b._showPlugin()},b.options.delayShow)},hide:function(){var b=a.data(this,e);if(!b)throw new Error(d+" is not initialized. Please initialize before calling hide method!");0===b.options.delayHide?b._hidePlugin():setTimeout(function(){b._hidePlugin()},b.options.delayHide)}};a.fn[d]=function(a){var b=arguments;return this.each(function(){return g[a]?g[a].apply(this,Array.prototype.slice.call(b,1)):"object"!=typeof a&&a?void console.log("Method "+a+" does not exist on jQuery."+d+".js"):g.init.apply(this,b)})},a.fn[d].options={showDefault:!0,delayShow:0,delayHide:0,followCursor:!1}}(jQuery,window,document),function(a,b,c){var d={init:function(a){this.isActive=!1,this.stop=!1,this.options=a,this.options.startEvent.call(this)},main:function(b){this.stop||this.checkLocalStorage()||(a.isFunction(b)&&b.call(this),this.isActive=!0,this.el=this.options.element.call(this),this.el.length&&this._createMarkup())},checkLocalStorage:function(){var a;return localStorage.introHelp=localStorage.introHelp||"null",a=JSON.parse(localStorage.introHelp)||{},a[this.options.localId]?!0:(a[this.options.localId]="true",localStorage.introHelp=JSON.stringify(a),!1)},destroy:function(){this.stop=!0,this.checkLocalStorage(),this.isActive&&this._destroyMarkup()},_createMarkup:function(){var b,d,e,f,g,h,i=this,j=c.body.getBoundingClientRect(),k=i.el[0].getBoundingClientRect();b=k.top+i.options.gap.top,d=k.right+i.options.gap.right,e=k.bottom+i.options.gap.bottom,f=k.left+i.options.gap.left,g=k.width+-i.options.gap.left+i.options.gap.right,h=k.height+-i.options.gap.top+i.options.gap.bottom,i.overlayTop=a("<div/>",{"class":"intro-overlay"}).css({top:0,left:0,width:"100%",height:b}).appendTo(c.body),i.overlayRight=a("<div/>",{"class":"intro-overlay"}).css({top:b,left:d,width:j.width-d,height:h}).appendTo(c.body),i.overlayBottom=a("<div/>",{"class":"intro-overlay"}).css({top:e,left:0,width:"100%",height:j.height-e}).appendTo(c.body),i.overlayLeft=a("<div/>",{"class":"intro-overlay"}).css({top:b,left:0,width:f,height:h}).appendTo(c.body),i.messageBlock=a("<div/>",{html:this.options.message,"class":"intro-message"}).appendTo(c.body),"rc"==this.options.messagePosition?(f=f+g+20,b=e-h/2-this.messageBlock.outerHeight()/2):"tc"==this.options.messagePosition&&(f=f+g/2-this.messageBlock.outerWidth()/2,b=b-this.messageBlock.outerHeight()-20),this.messageBlock.css({left:f,top:b}).addClass("intro-message-"+this.options.messagePosition)},_destroyMarkup:function(){var a=this;a.overlayTop.remove(),a.overlayRight.remove(),a.overlayBottom.remove(),a.overlayLeft.remove(),a.messageBlock.remove()}},e=Object.create(d);e.init({localId:"filters-animation",element:function(){return a('[data-option="animationType"]')},messagePosition:"rc",gap:{top:0,left:0,right:0,bottom:0},message:"To change animations for filters click on the options from the left panel",startEvent:function(){var c=this;setTimeout(function(){if(!a(".cfy-toggle").hasClass("cfy-toggle-close")){var d=a("#grid-container").data("cubeportfolio");!d||d.lightbox.isOpen||d.singlePage.isOpen||c.main(function(){a(b).scrollTop(0)})}},3e4)}});var f=Object.create(d);f.init({localId:"click-filters-animation",element:function(){return a("#filters-container")},message:"To see the effect of your change click on the items below",messagePosition:"tc",gap:{top:0,left:-10,right:0,bottom:10},startEvent:function(){var b=this;a('.cfy-item[data-option="animationType"]').on("click.introHelp",function(){e.destroy(),b.main(),a("#filters-container").on("click.introHelp",function(){f.destroy(),a("#filters-container").off("click.introHelp")}),a('.cfy-item[data-option="animationType"]').off("click.introHelp")})}});var g=Object.create(d);g.init({localId:"intro-captions-panel",element:function(){return a(".cbp").find(".cbp-wrapper-front").length?a(".cbp-wrapper-front").find(".cbp-item").not(".cbp-item-hidden").eq(2).find(".cbp-caption"):a(".cbp-item").not(".cbp-item-hidden").eq(2).find(".cbp-caption")},message:"To see the effect of your change mouseover the item below",messagePosition:"tc",gap:{top:0,left:0,right:0,bottom:0},startEvent:function(){var b=this;a('.cfy-item[data-option="caption"]').on("click.introHelp",function(c){c.preventDefault(),e.destroy(),b.main(),a(".cbp-item").on("mouseenter.introHelp",function(){g.destroy(),a(".cbp-item").off("mouseenter.introHelp")}),a('.cfy-item[data-option="caption"]').off("click.introHelp")})}})}(jQuery,window,document),function(a){"use strict";function b(a,b){a[0].reset(),a.find("textarea").hide(),a.find(".js-form-feedback").show().text(b)}Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){for(var c=b||0,d=this.length;d>c;c++)if(this[c]===a)return c;return-1}),a(".survey-show-textarea").on("change",function(){var b=a("#"+this.id+"-textarea");b.toggle(),b.is(":visible")||b.val("")}),a(".js-form-plugin").on("submit",function(c){c.preventDefault();var d=a(this),e=d.serialize();if("undefined"!=typeof Storage)return"1"===localStorage[d.data("type")]?void b(d,"You already voted!"):void a.ajax({url:d[0].action,type:"POST",data:{data:e}}).done(function(a){1==a?(b(d,"Thanks for your feedback!"),"undefined"!=typeof Storage&&localStorage.setItem(d.data("type"),1)):d.find(".js-form-feedback").show().text("There was a problem. Please try again!")}).fail(function(){d.find(".js-form-feedback").show().text("There was a problem. Please try again!")})}),a("#usage-examples .cbp").cubeportfolio({displayType:"default",lightboxDelegate:"",singlePageDelegate:"",singlePageInlineDelegate:""})}(jQuery,window,document);